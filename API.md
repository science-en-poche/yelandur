Yelandur API
============

Current version of the API is v1.

Yelandur serves its API from `domain.com/api/vX` where `X` is the current API version. Anything above that (e.g. `domain.com/api`) returns a `404` error. Therefore you must prepend `/api/vX` to all your API calls. This will be shown in the first few examples below.


Version 1
---------

### Auth

All requests that modify data (`POST`, `PUT`, `DELETE`) require authentication. All requests that involve experiment results also require authentication.

For now only users can be authenticated (that is, researchers accessing data generated by their experiments), but authenticating devices is in the works (so that device users can retrieve their previously uploaded results).

Authentication is done thanks to [BrowserID / Persona](https://login.persona.org/). The callback given to the `BrowserID` protocol is `/auth/browserid/login` (i.e. `/api/v1/auth/browserid/login`) ; if authentication is successful, a session cookie is set.

When testing manually, you can authenticate using [Naja](https://github.com/wehlutyk/naja) (the Ajax frontend) and make your API requests directly in-browser.

`GET /auth/browserid/logout` (so `/api/v1/auth/browserid/logout` really) clears the session cookie, i.e. logs the user out.


### User

TBD


### Device

TBD
